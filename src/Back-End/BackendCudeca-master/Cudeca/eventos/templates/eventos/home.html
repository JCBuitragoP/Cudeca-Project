{% extends 'base.html' %}

{% block title %}Inicio | Eventos BenÃ©ficos{% endblock %}

{% block content %}
<div class="hero" style="text-align: center; padding: 3rem 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 10px; margin-bottom: 3rem;">
    <h1 style="font-size: 3rem; margin-bottom: 1rem;">Eventos que Transforman Vidas</h1>
    <p style="font-size: 1.3rem; margin-bottom: 2rem;">Participa en nuestros eventos benÃ©ficos y ayuda a quienes mÃ¡s lo necesitan</p>
</div>

{% if cenas %}
<section style="margin-bottom: 3rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="font-size: 2rem; color: #333;">ğŸ½ï¸ PrÃ³ximas Cenas</h2>
        <a href="{% url 'lista_cenas' %}" class="btn btn-secondary">Ver todas</a>
    </div>
    <div class="grid">
        {% for cena in cenas %}
        <div class="card">
            {% if cena.imagen %}
            <img src="{{ cena.imagen.url }}" alt="{{ cena.lugar }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 1rem;">
            {% endif %}
            <h3>{{ cena.lugar }}</h3>
            <p><strong>ğŸ“… Fecha:</strong> {{ cena.fecha|date:"d/m/Y H:i" }}</p>
            <p><strong>ğŸ’° Precio:</strong> â‚¬{{ cena.precio_por_persona }}/persona</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ cena.porcentaje_recaudado }}%;"></div>
            </div>
            <p><small>â‚¬{{ cena.recaudacion_actual }} de â‚¬{{ cena.recaudacion_objetivo }}</small></p>
            <a href="{% url 'detalle_cena' cena.pk %}" class="btn" style="margin-top: 1rem;">Ver detalles</a>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

{% if rifas %}
<section style="margin-bottom: 3rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="font-size: 2rem; color: #333;">ğŸŸï¸ Rifas Activas</h2>
        <a href="{% url 'lista_rifas' %}" class="btn btn-secondary">Ver todas</a>
    </div>
    <div class="grid">
        {% for rifa in rifas %}
        <div class="card">
            {% if rifa.imagen %}
            <img src="{{ rifa.imagen.url }}" alt="{{ rifa.premio }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 1rem;">
            {% endif %}
            <h3>{{ rifa.premio }}</h3>
            <p><strong>ğŸ“… Sorteo:</strong> {{ rifa.fecha|date:"d/m/Y" }}</p>
            <p><strong>ğŸ’° Boleto:</strong> â‚¬{{ rifa.precio_boleto }}</p>
            <p><strong>ğŸ« Vendidos:</strong> {{ rifa.boletos_vendidos }}/{{ rifa.max_boletos }}</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ rifa.porcentaje_recaudado }}%;"></div>
            </div>
            <p><small>â‚¬{{ rifa.recaudacion_actual }} de â‚¬{{ rifa.recaudacion_objetivo }}</small></p>
            <a href="{% url 'detalle_rifa' rifa.pk %}" class="btn" style="margin-top: 1rem;">Ver detalles</a>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

{% if marchas %}
<section style="margin-bottom: 3rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="font-size: 2rem; color: #333;">ğŸƒ PrÃ³ximas Marchas</h2>
        <a href="{% url 'lista_marchas' %}" class="btn btn-secondary">Ver todas</a>
    </div>
    <div class="grid">
        {% for marcha in marchas %}
        <div class="card">
            {% if marcha.imagen %}
            <img src="{{ marcha.imagen.url }}" alt="{{ marcha.lugar }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 1rem;">
            {% endif %}
            <h3>{{ marcha.lugar }}</h3>
            <p><strong>ğŸ“… Fecha:</strong> {{ marcha.fecha|date:"d/m/Y H:i" }}</p>
            <p><strong>ğŸ’° InscripciÃ³n:</strong> â‚¬{{ marcha.precio_inscripcion }}</p>
            <p><strong>ğŸ“ Recorrido:</strong> {{ marcha.recorrido|truncatewords:10 }}</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ marcha.porcentaje_recaudado }}%;"></div>
            </div>
            <p><small>â‚¬{{ marcha.recaudacion_actual }} de â‚¬{{ marcha.recaudacion_objetivo }}</small></p>
            <a href="{% url 'detalle_marcha' marcha.pk %}" class="btn" style="margin-top: 1rem;">Ver detalles</a>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

{% if conciertos %}
<section style="margin-bottom: 3rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="font-size: 2rem; color: #333;">ğŸµ PrÃ³ximos Conciertos</h2>
        <a href="{% url 'lista_conciertos' %}" class="btn btn-secondary">Ver todos</a>
    </div>
    <div class="grid">
        {% for concierto in conciertos %}
        <div class="card">
            {% if concierto.imagen %}
            <img src="{{ concierto.imagen.url }}" alt="{{ concierto.lugar }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 1rem;">
            {% endif %}
            <h3>{{ concierto.lugar }}</h3>
            <p><strong>ğŸ“… Fecha:</strong> {{ concierto.fecha|date:"d/m/Y H:i" }}</p>
            <p><strong>ğŸ’° Entrada:</strong> â‚¬{{ concierto.precio_entrada }}</p>
            <p><strong>ğŸ‘¥ Capacidad:</strong> {{ concierto.max_asistentes }} personas</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ concierto.porcentaje_recaudado }}%;"></div>
            </div>
            <p><small>â‚¬{{ concierto.recaudacion_actual }} de â‚¬{{ concierto.recaudacion_objetivo }}</small></p>
            <a href="{% url 'detalle_concierto' concierto.pk %}" class="btn" style="margin-top: 1rem;">Ver detalles</a>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

{% if not cenas and not rifas and not marchas and not conciertos %}
<div class="card" style="text-align: center; padding: 3rem;">
    <h2>No hay eventos prÃ³ximos en este momento</h2>
    <p>Vuelve pronto para ver nuevos eventos benÃ©ficos</p>
</div>
{% endif %}
{% endblock %}
